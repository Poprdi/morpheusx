[package]
name = "morpheus-bootloader"
version.workspace = true
edition.workspace = true
authors.workspace = true
license.workspace = true

[dependencies]
iso9660 = { workspace = true }
morpheus-core = { workspace = true }
morpheus-persistent = { workspace = true }
morpheus-network = { workspace = true, features = ["display"] }
morpheus-display = { workspace = true }
morpheus-hwinit = { workspace = true }
gpt_disk_io = { version = "0.16", default-features = false }
gpt_disk_types = { version = "0.16", default-features = false }
virtio-drivers = { version = "0.12", default-features = false }
# Hybrid allocator dependencies
linked_list_allocator = "0.10"
spin = { version = "0.9", default-features = false, features = ["lock_api", "spin_mutex"] }
# TODO: Enable when other modules are implemented
# morpheus-updater = { workspace = true }
# morpheus-utils = { workspace = true }

[features]
fat32_debug = ["morpheus-core/fat32_debug"]

[profile.dev]
panic = "abort"

[profile.release]
panic = "abort"
debug = true

[target.'cfg(target_arch = "x86_64")'.dependencies]

[target.'cfg(target_arch = "aarch64")'.dependencies]

[target.'cfg(target_arch = "arm")'.dependencies]
